{
  // Required: "discord" or "slack"
  "platform": "discord",

  // Discord credentials (required when platform is "discord")
  "discord_token": "your-discord-bot-token-here",
  "discord_app_id": "your-discord-app-id-here",
  // Enables auto-creation of Discord channels via `loop mcp --dir`
  "discord_guild_id": "your-discord-guild-id-here",

  // Slack credentials (required when platform is "slack")
  //"slack_bot_token": "xoxb-your-slack-bot-token",
  //"slack_app_token": "xapp-your-slack-app-token",

  // Authentication for Claude Code inside containers.
  // Use ONE of the following (OAuth token takes precedence if both are set):
  //
  // Option 1: OAuth token (from `claude setup-token`) — uses your subscription
  //"claude_code_oauth_token": "sk-ant-your-oauth-token-here",
  //
  // Option 2: Anthropic API key — uses pay-per-token API pricing
  //"anthropic_api_key": "sk-ant-your-api-key-here",

  //"db_path": "~/.loop/loop.db",
  //"log_file": "~/.loop/loop.log",
  //"log_level": "info",
  //"log_format": "text",
  //"container_image": "loop-agent:latest",
  //"container_timeout_sec": 3600,
  //"container_memory_mb": 512,
  //"container_cpus": 1.0,
  //"container_keep_alive_sec": 300,
  //"poll_interval_sec": 30,
  //"claude_model": "", // defaults to sonnet; options: "claude-opus-4-6", "claude-sonnet-4-6"
  //"claude_bin_path": "claude",
  //"streaming_enabled": true, // stream intermediate Claude turns to chat as they happen

  // RBAC permissions: owners can do everything (including allow/deny); members can trigger and manage tasks.
  // If all config and DB permissions are empty, everyone is treated as owner (bootstrap mode).
  //"permissions": {
  //  "owners":  { "users": ["U12345678"], "roles": ["1234567890123456789"] },
  //  "members": { "users": [], "roles": [] }
  //},

  // Semantic memory search configuration.
  // Must be explicitly enabled. Paths are resolved per project work dir.
  "memory": {
    // Must be explicitly true to enable semantic memory search
    "enabled": true,
    "paths": ["./memory", "!./memory/plans"], // absolute or relative; prefix with ! to exclude
    //"max_chunk_chars": 5000, // max chars per embedding chunk; increase for models with larger context
    //"reindex_interval_sec": 300, // periodic re-index interval in seconds (default: 300 = 5 min)
    "embeddings": {
      "provider": "ollama",
      "model": "nomic-embed-text"
      //"ollama_url": "http://localhost:11434"
    }
  },

  // MCP server configurations. Each entry defines a separate MCP server that agents can connect to.
  // The key is an arbitrary name for the server, and the value specifies how to start the server.
  // Project-level configs can override or add servers with the same structure.
  "mcp": {
    //"servers": {
    //  "github": {
    //    "command": "npx",
    //    "args": ["-y", "@modelcontextprotocol/server-github"],
    //    "env": {
    //      "GITHUB_PERSONAL_ACCESS_TOKEN": "ghp_your_token_here"
    //    }
    //  }
    //}
  },

  // Extra environment variables passed to all containers
  "envs": {
    // Ensure .bashrc is sourced in non-interactive shells (e.g. Claude's bash subshells)
    "BASH_ENV": "~/.bashrc"
  },

  // Mounts for all containers
  // Format: "host_path:container_path" or "host_path:container_path:ro"
  "mounts": [
    // Mount Claude code and config to allow agents to use Claude for reasoning and decision-making
    "~/.claude:~/.claude",
    "~/.claude.json:~/.claude.json",
    // Mount Git config read-only to allow agents to perform Git operations with correct user identity without risking modification of the host's Git config
    "~/.gitconfig:~/.gitconfig:ro",
    // Mount SSH keys read-only to allow agents to perform Git operations with authentication (e.g. cloning private repos, pushing commits)
    "~/.ssh:~/.ssh:ro",
    // Mount AWS credentials read-only to allow agents to interact with AWS services
    "~/.aws:~/.aws",
    // Mount Docker socket to allow agents to run Docker commands (e.g. for testing or deployment)
    "/var/run/docker.sock:/var/run/docker.sock",
    // Mount shell aliases/config into container's bashrc (sourced by Claude's bash subshells)
    "~/.loop/.bashrc:~/.bashrc:ro",
    // Named volumes for caches — persisted across container runs by Docker
    "loop-npmcache:~/.npm",
    "loop-uvcache:~/.local/share/uv",
    "loop-cache:~/.cache",
    "loop-gocache:/go",
    "loop-ollama:~/.ollama"
  ],

  // Task templates
  // Each template must have either "prompt" (inline) or "prompt_path" (loads from ~/.loop/templates/<path>), but not both.
  "task_templates": [
    {
      "name": "tk-auto-worker",
      "description": "Dispatch ready tickets to worker threads",
      "schedule": "* * * * *",
      "type": "cron",
      "prompt_path": "tk-auto-worker.md"
    },
    {
      "name": "tk-heartbeat",
      "description": "Check for ready work tickets; enable/disable tk-auto-worker accordingly",
      "schedule": "5m",
      "type": "interval",
      "prompt_path": "tk-heartbeat.md",
      "auto_delete_sec": 60
    },
    {
      "name": "daily-summary",
      "description": "Generate a daily summary of completed tickets",
      "schedule": "0 17 * * *",
      "type": "cron",
      "prompt": "Generate a summary of all tickets closed today using 'tk list --status=closed'. Include ticket IDs, titles, and brief descriptions of what was accomplished."
      // Or use prompt_path to load prompt from ~/.loop/templates/<file>:
      //"prompt_path": "daily-summary.md"
    },
    {
      "name": "heartbeat",
      "description": "Periodic check — reads HEARTBEAT.md and reports only if something needs attention",
      "schedule": "30m",
      "type": "interval",
      "prompt_path": "heartbeat.md"
    }
  ]
}
